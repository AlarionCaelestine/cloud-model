# Cloud Model (Облачная Модель)

## Описание проекта

Данный проект представляет собой программную реализацию модели гравитационного потенциала в облаке газа. Модель использует итерационные методы для расчета гравитационного потенциала, плотности и массы в трехмерной сетке координат. Основное внимание уделяется астрофизическим расчетам с использованием правильных физических единиц измерения.

## Структура кода

Код организован в виде модуля `CloudModel` со следующей структурой:

### Основные типы данных

- `PhysicalConstants` - структура для хранения физических констант (гравитационная постоянная, газовая постоянная, температура, молекулярная масса)
- `GridParameters` - структура для хранения параметров расчетной сетки
- `SimulationState` - структура для хранения состояния симуляции (потенциал, плотность, масса)

### Ключевые функции

- `F(X, Y, Z)` - расчет производных для дифференциального уравнения
- `euler_method(...)` - численное интегрирование методом Эйлера
- `runge_kutta(...)` - численное интегрирование методом Рунге-Кутта
- `initialize_physical_constants()` - инициализация физических констант
- `initialize_grid(...)` - создание параметров расчетной сетки
- `create_grid(...)` - создание трехмерной координатной сетки
- `initialize_simulation_state(...)` - инициализация начального состояния симуляции
- `boundary_conditions!(...)` - установка граничных условий для расчета
- `iterations_method!(...)` - выполнение итераций для решения уравнения гравитационного потенциала
- `run_simulation(...)` - запуск полной симуляции с заданными параметрами
- `visualize_results(...)` - визуализация результатов расчетов

## Зависимости

Для работы с проектом требуются следующие пакеты Julia:

- `Unitful` - для работы с физическими единицами измерения
- `UnitfulAstro` - для работы с астрономическими единицами измерения
- `GLMakie` - для интерактивной визуализации результатов
- `LinearAlgebra` - для матричных операций
- `StaticArrays` - для эффективной работы с массивами фиксированного размера

## Установка и использование

### Установка зависимостей

```julia
using Pkg
Pkg.add(["Unitful", "UnitfulAstro", "GLMakie", "LinearAlgebra", "StaticArrays"])
```

### Пример использования

```julia
# Импортировать модуль
using .CloudModel

# Запустить симуляцию с параметрами по умолчанию
# (1000 итераций, максимальная координата 4.0 а.е., размер сетки 15)
state, oX, oY, oZ = run_simulation(1000)

# Визуализировать результаты
visualize_results(state, oX, oY, oZ)

# Запустить симуляцию с пользовательскими параметрами
state, oX, oY, oZ = run_simulation(2000, 6.0u"AU", 20)

# Визуализировать конкретный срез (плоскость XY на z=5)
visualize_results(state, oX, oY, oZ, slice_dim=3, slice_idx=5)
```

## Физические уравнения

Модель основана на следующих физических уравнениях:

1. Уравнение Пуассона для гравитационного потенциала:
   ∇²Φ = 4πG⋅ρ

2. Связь между плотностью и потенциалом:
   ρ = ρ₀⋅exp(-Φ⋅μ/RT)

где:
- Φ - гравитационный потенциал
- ρ - плотность
- G - гравитационная постоянная
- R - газовая постоянная
- T - температура
- μ - молекулярная масса

## Визуализация

Проект предоставляет следующие возможности визуализации:

- Трехмерный график поверхности потенциала
- Двумерная тепловая карта потенциала
- Контурный график потенциала

Все результаты можно сохранить в виде графических файлов формата PNG.

## Ограничения и дальнейшее развитие

- Текущая реализация использует явную сетку с постоянным шагом
- Предполагается изотермическое приближение (постоянная температура)
- Возможно улучшение производительности с использованием параллельных вычислений
- Планируется добавление возможности симуляции нестационарных процессов

## Авторы

Реализация на языке Julia на основе оригинального кода на Python.